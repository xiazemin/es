**Elasticsearch 机制原理**

Elasticsearch 的基本概念和基本操作介绍完了之后，我们可能还有很多疑惑：  
**1.**它们内部是如何运行的？  
**2.**主分片和副本分片是如何同步的？  
**3.**创建索引的流程是什么样的？  
**4.**Elasticsearch 如何将索引数据分配到不同的分片上的？以及这些索引数据是如何存储的？  
**5.**为什么说 Elasticsearch 是近实时搜索引擎而文档的 CRUD \(创建-读取-更新-删除\) 操作是实时的？  
**6.**以及 Elasticsearch 是怎样保证更新被持久化在断电时也不丢失数据？  
**7.**还有为什么删除文档不会立刻释放空间？

带着这些疑问我们进入接下来的内容。

